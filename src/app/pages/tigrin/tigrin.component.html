<!-- Game Header -->
<div class="mb-6">
  <div class="flex items-center justify-between mb-4">
    <div class="flex items-center space-x-3">
      <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg">
        <span class="text-black font-bold text-xl">T</span>
      </div>
      <div>
        <h1 class="text-2xl font-bold text-white">TIGRIN</h1>
        <p class="text-gray-400 text-sm">Jogo do Tigrinho</p>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
      <span class="text-green-400 text-sm font-medium">Online</span>
    </div>
  </div>
</div>

<!-- Main Content Grid -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
  <!-- Game Area - Takes 2 columns on large screens -->
  <div class="lg:col-span-2 space-y-6">
    <!-- Balance Card -->
    <div class="bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 rounded-2xl p-6 border border-yellow-500/20 shadow-2xl">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-gray-400 text-sm mb-1">Saldo Dispon√≠vel</p>
          <p class="text-3xl font-bold text-white">{{ credits | currency: 'BRL' }}</p>
        </div>
        <div class="flex flex-col space-y-2">
          <button class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
            Depositar
          </button>
          <button class="bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
            Sacar
          </button>
        </div>
      </div>
    </div>

    <!-- Game Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
        <p class="text-gray-400 text-xs mb-1">Apostas Hoje</p>
        <p class="text-white font-bold text-lg">12</p>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
        <p class="text-gray-400 text-xs mb-1">Vit√≥rias</p>
        <p class="text-green-400 font-bold text-lg">8</p>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
        <p class="text-gray-400 text-xs mb-1">Maior Ganho</p>
        <p class="text-yellow-400 font-bold text-lg">R$ 250</p>
      </div>
      <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
        <p class="text-gray-400 text-xs mb-1">Sequ√™ncia</p>
        <p class="text-blue-400 font-bold text-lg">3x</p>
      </div>
    </div>

    <!-- Bet Amount Section -->
    <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
      <div class="flex items-center justify-between mb-4">
        <label for="bet-amount" class="text-white font-semibold text-lg">Valor da Aposta</label>
        <div class="flex space-x-2">
          <button class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm transition-colors" (click)="cost = 1">
            R$ 1
          </button>
          <button class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm transition-colors" (click)="cost = 5">
            R$ 5
          </button>
          <button class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm transition-colors" (click)="cost = 10">
            R$ 10
          </button>
          <button class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm transition-colors" (click)="cost = 50">
            R$ 50
          </button>
        </div>
      </div>
      
      <div class="relative">
        <input 
          id="bet-amount" 
          type="number" 
          [(ngModel)]="cost"
          class="w-full p-4 text-center bg-gray-900 text-white rounded-xl border-2 border-gray-600 focus:border-yellow-500 focus:outline-none text-2xl font-bold placeholder-gray-500 transition-colors"
          placeholder="0.00" 
        />
        <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">
          BRL
        </div>
      </div>
      
      <!-- Bet Range Slider -->
      <div class="mt-4">
        <input 
          type="range" 
          min="1" 
          max="100" 
          [(ngModel)]="cost"
          class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"
        />
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>R$ 1</span>
          <span>R$ 100</span>
        </div>
      </div>
    </div>

    <!-- Game Area -->
    <div class="bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-2xl p-6 border-2 border-yellow-500/30 shadow-2xl">
      <div class="text-center mb-6">
        <h2 class="text-xl font-bold text-white mb-2">Resultado do Sorteio</h2>
        <p class="text-gray-400">Aguarde o resultado...</p>
      </div>
      
      <!-- Game Results Display -->
      <div class="overflow-hidden mb-6">
        <div [@sorteioAnim]="animationState" class="flex justify-center items-center gap-4 min-h-[120px] flex-wrap">
          @for(opt of currents; track $index) {
            <div class="relative group">
              <div class="w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl flex flex-col items-center justify-center border-2 border-gray-600 transition-all duration-300 hover:scale-105 hover:border-yellow-500 animate-pulse-fast">
                <span class="text-2xl md:text-3xl font-bold text-white">{{opt}}</span>
                <small class="text-xs font-medium mt-1" [class.text-green-400]="(opt | option).multi >= 0" [class.text-red-400]="(opt | option).multi < 0">
                  {{ (opt | option).multi | percent}}
                </small>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Last Results -->
      <div class="bg-gray-800/50 rounded-xl p-4 mb-6">
        <h3 class="text-white font-semibold mb-3">√öltimos Resultados</h3>
        <div class="flex space-x-2 overflow-x-auto">
          <div class="flex-shrink-0 w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold">üêÖ</span>
          </div>
          <div class="flex-shrink-0 w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold">üêµ</span>
          </div>
          <div class="flex-shrink-0 w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold">üêÖ</span>
          </div>
          <div class="flex-shrink-0 w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold">ü¶Å</span>
          </div>
          <div class="flex-shrink-0 w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold">üêÖ</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="space-y-4">
      <!-- Main Bet Button -->
      <button 
        (click)="startSorting()" 
        [disabled]="credits < cost"
        class="w-full py-4 px-6 rounded-2xl text-xl font-bold uppercase transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-2xl
               bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 text-white
               hover:from-yellow-400 hover:via-orange-400 hover:to-red-400
               disabled:opacity-50 disabled:cursor-not-allowed disabled:from-gray-600 disabled:to-gray-700 disabled:text-gray-400 disabled:transform-none
               focus:outline-none focus:ring-4 focus:ring-yellow-500/50"
      >
        <div class="flex items-center justify-center space-x-3">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          <span>Apostar Agora</span>
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        </div>
      </button>

      <!-- Secondary Actions -->
      <div class="grid grid-cols-2 gap-4">
        <button class="py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-medium transition-colors">
          Auto Play
        </button>
        <button class="py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-medium transition-colors">
          Hist√≥rico
        </button>
      </div>
    </div>
  </div>

  <!-- Sidebar Stats - Takes 1 column on large screens -->
  <div class="lg:col-span-1">
    <app-stats></app-stats>
  </div>
</div>

<!-- Responsible Gaming Notice -->
<div class="mt-6 bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4">
  <div class="flex items-start space-x-3">
    <svg class="w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24">
      <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
    </svg>
    <div>
      <p class="text-yellow-400 font-medium text-sm">Jogue com Responsabilidade</p>
      <p class="text-gray-400 text-xs mt-1">Apostas podem causar depend√™ncia. Jogue apenas o que pode perder. +18 anos.</p>
    </div>
  </div>
</div>